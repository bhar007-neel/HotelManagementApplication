CREATE TABLE "HotelChain" (
  "ChainID" SERIAL PRIMARY KEY,
  "Name" VARCHAR(255) UNIQUE NOT NULL,         
  "CentralOfficeAddress" TEXT NOT NULL,
  "NumOfHotels" INT CHECK ("NumOfHotels" >= 0),
  "Email" TEXT UNIQUE NOT NULL,
  "PhoneNumber" TEXT UNIQUE NOT NULL
);

CREATE TABLE "Hotel" (
  "HotelID" SERIAL PRIMARY KEY,
  "ChainID" INT NOT NULL REFERENCES "HotelChain"("ChainID") ON DELETE CASCADE,
  "Stars" INT CHECK ("Stars" BETWEEN 1 AND 5),
  "NumberOfRoom" INT CHECK ("NumberOfRoom" >= 1),
  "Address" TEXT NOT NULL,
  "Email" VARCHAR(255) UNIQUE NOT NULL,
  "PhoneNumber" VARCHAR(20) UNIQUE NOT NULL
);

CREATE TABLE "Room" (
  "RoomID" SERIAL PRIMARY KEY,
  "HotelID" INT NOT NULL REFERENCES "Hotel"("HotelID") ON DELETE CASCADE,
  "Price" DECIMAL(10,2) CHECK ("Price" > 0),
  "RoomType" TEXT CHECK ("RoomType" IN ('Double', 'Single')),
  "Damage" TEXT,
  "View" TEXT CHECK ("View" IN ('Sea', 'Mountain', 'None')),
  "Extendable" BOOLEAN NOT NULL DEFAULT FALSE
);

CREATE TABLE "RoomAmenities" (
  "Amenity" TEXT NOT NULL,
  "RoomID" INT NOT NULL REFERENCES "Room"("RoomID") ON DELETE CASCADE,
  PRIMARY KEY ("Amenity", "RoomID")
);

CREATE TABLE "Employee" (
  "EmployeeID" SERIAL PRIMARY KEY,
  "HotelID" INT,
  "Name" VARCHAR(255) NOT NULL,
  "Address" TEXT NOT NULL,
  "SSN" VARCHAR(9) UNIQUE NOT NULL CHECK (LENGTH("SSN") = 9 AND "SSN" ~ '^[0-9]{9}$'),
  "EmploymentType" VARCHAR(50) NOT NULL,
  FOREIGN KEY ("HotelID") REFERENCES "Hotel"("HotelID")
);

CREATE TABLE "Customer" (
  "CustomerID" SERIAL PRIMARY KEY,
  "Name" VARCHAR(255) NOT NULL,
  "Address" TEXT NOT NULL,
  "IDType" VARCHAR(20) NOT NULL CHECK ("IDType" IN ('SSN', 'SIN', 'Driver''s License')),
  "IDNumber" VARCHAR(19) NOT NULL CHECK (
    ("IDType" IN ('SSN', 'SIN') AND LENGTH("IDNumber") = 9) OR 
    ("IDType" = 'Driver''s License' AND LENGTH("IDNumber") <= 19)
  ),
  "RegistrationDate" CHAR(8) NOT NULL CHECK ("RegistrationDate" ~ '^[0-9]{8}$')
); 

-- Creating the BOOKING table
CREATE TABLE "Booking" (
  "BOOKING_ID" SERIAL PRIMARY KEY,
  "CustomerID" INT REFERENCES "Customer"("CustomerID"),
  "RoomID" INT REFERENCES "Room"("RoomID"),
  "StartDate" DATE NOT NULL,
  "EndDate" DATE NOT NULL,
  "Status" VARCHAR(20) CHECK ("Status" IN ('Confirmed', 'Pending', 'Cancelled'))
);

-- Creating the PAYMENT table
CREATE TABLE PAYMENT (
    "PAYMENT_ID" SERIAL PRIMARY KEY,
    "AMOUNT" DECIMAL(10,2) NOT NULL,
    "DATE" DATE NOT NULL,
    "PAYMENT_METHOD" VARCHAR(20) CHECK ("PAYMENT_METHOD" IN ('Credit Card', 'PayPal', 'Debit Card', 'Cash'))
);

-- Creating the RENTING table
CREATE TABLE "RENTING" (
    "RENTING_ID" SERIAL PRIMARY KEY,
    "BOOKING_ID" INT UNIQUE REFERENCES "Booking"("BOOKING_ID") ON DELETE CASCADE,
    "PAYMENT_STATUS" VARCHAR(10) CHECK ("PAYMENT_STATUS" IN ('Paid', 'Unpaid'))
);

CREATE TABLE "ArchivedRenting" (
  "ARCHIVE_ID" SERIAL PRIMARY KEY,
  "OriginalRentingID" INT,
  "BookingID" INT,
  "PaymentStatus" VARCHAR(10) CHECK ("PaymentStatus" IN ('Paid', 'Unpaid')),
  "ArchivedOn" TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP
);

	

INSERT INTO "HotelChain" ("Name", "CentralOfficeAddress", "NumOfHotels", "Email", "PhoneNumber") 
VALUES 
('HotelChain1', '1 Hotel Street, New York', 10, 'chain1@gmail.com', '555-1111'),
('ChainHotel1', '2 Hotel Street, Chicago', 15, 'hotel1@gmail.com', '666-2222'),
('Elite', '300 Elite, LA', 8, 'elite@gmail.com', '555-3333'),
('Grand', '400 Resort, Miami', 9, 'grand@gmail.com', '222-4444'),
('Super', '200 Super, San Francisco', 12, 'super@gmail.com', '555-5555');






--HOTEL INSERTION

INSERT INTO "Hotel" ("ChainID", "Stars", "NumberOfRoom", "Address", "Email", "PhoneNumber")
VALUES ((SELECT "ChainID" FROM "HotelChain" WHERE "Name" = 'HotelChain1'), 5, 50, '500 Ave, New York', 'ahotel@gmail.com', '555-3333');

INSERT INTO "Hotel" ("ChainID", "Stars", "NumberOfRoom", "Address", "Email", "PhoneNumber")
VALUES ((SELECT "ChainID" FROM "HotelChain" WHERE "Name" = 'ChainHotel1'), 3, 20, '100 Street, Chicago', 'achain@gmail.com','666-1141');

INSERT INTO "Hotel" ("ChainID", "Stars", "NumberOfRoom", "Address", "Email", "PhoneNumber")
VALUES ((SELECT "ChainID" FROM "HotelChain" WHERE "Name" = 'ChainHotel1'), 3, 40, '300 Lake St, Chicago', 'lake@gmail.com', '555-8888');

INSERT INTO "Hotel" ("ChainID", "Stars", "NumberOfRoom", "Address", "Email", "PhoneNumber")
VALUES ((SELECT "ChainID" FROM "HotelChain" WHERE "Name" = 'ChainHotel1'), 2, 35, '600 Low St, Chicago', 'low@gmail.com', '555-9999');

INSERT INTO "Hotel" ("ChainID", "Stars", "NumberOfRoom", "Address", "Email", "PhoneNumber")
VALUES ((SELECT "ChainID" FROM "HotelChain" WHERE "Name" = 'Elite'), 5, 80, '900 Sunset Blvd, Los Angeles', 'sunset@gmail.com', '555-1010');

INSERT INTO "Hotel" ("ChainID", "Stars", "NumberOfRoom", "Address", "Email", "PhoneNumber")
VALUES ((SELECT "ChainID" FROM "HotelChain" WHERE "Name" = 'Elite'), 4, 70, '300 Hollywood Blvd, Los Angeles', 'hollywood@gmail.com', '555-1112');

INSERT INTO "Hotel" ("ChainID", "Stars", "NumberOfRoom", "Address", "Email", "PhoneNumber")
VALUES ((SELECT "ChainID" FROM "HotelChain" WHERE "Name" = 'Grand'), 5, 90, '100 Beach Dr, Miami', 'beach@gmail.com', '555-1213');

INSERT INTO "Hotel" ("ChainID", "Stars", "NumberOfRoom", "Address", "Email", "PhoneNumber")
VALUES ((SELECT "ChainID" FROM "HotelChain" WHERE "Name" = 'Grand'), 4, 60, '700 Ocean Dr, Miami', 'ocean@gmail.com', '555-1314');

INSERT INTO "Hotel" ("ChainID", "Stars", "NumberOfRoom", "Address", "Email", "PhoneNumber")
VALUES ((SELECT "ChainID" FROM "HotelChain" WHERE "Name" = 'Super'), 3, 20, '700 Island Dr, San Francisco', 'Island@gmail.com', '555-1319');








--INSERT ROOMS

INSERT INTO "Room" ("HotelID", "Price", "RoomType", "Damage", "View", "Extendable")
VALUES ((SELECT "HotelID" FROM "Hotel" WHERE "Address" = '500 Ave, New York'), 300.00, 'Single', NULL, 'Sea', TRUE);

INSERT INTO "Room" ("HotelID", "Price", "RoomType", "Damage", "View", "Extendable")
VALUES ((SELECT "HotelID" FROM "Hotel" WHERE "Address" = '100 Street, Chicago'), 300.00, 'Double', NULL, 'Sea', TRUE);

INSERT INTO "Room" ("HotelID", "Price", "RoomType", "Damage", "View", "Extendable")
VALUES ((SELECT "HotelID" FROM "Hotel" WHERE "Address" = '300 Lake St, Chicago'), 250.00, 'Double', NULL, 'Mountain', FALSE);

INSERT INTO "Room" ("HotelID", "Price", "RoomType", "Damage", "View", "Extendable")
VALUES ((SELECT "HotelID" FROM "Hotel" WHERE "Address" = '600 Low St, Chicago'), 200.00, 'Double', NULL, 'None', TRUE);

INSERT INTO "Room" ("HotelID", "Price", "RoomType", "Damage", "View", "Extendable")
VALUES ((SELECT "HotelID" FROM "Hotel" WHERE "Address" = '900 Sunset Blvd, Los Angeles'), 150.00, 'Single', NULL, 'None', FALSE);

INSERT INTO "Room" ("HotelID", "Price", "RoomType", "Damage", "View", "Extendable")
VALUES ((SELECT "HotelID" FROM "Hotel" WHERE "Address" = '300 Hollywood Blvd, Los Angeles'), 100.00, 'Single', NULL, 'None', FALSE);

INSERT INTO "Room" ("HotelID", "Price", "RoomType", "Damage", "View", "Extendable")
VALUES ((SELECT "HotelID" FROM "Hotel" WHERE "Address" = '100 Beach Dr, Miami'), 280.00, 'Single', NULL, 'Sea', FALSE);

INSERT INTO "Room" ("HotelID", "Price", "RoomType", "Damage", "View", "Extendable")
VALUES ((SELECT "HotelID" FROM "Hotel" WHERE "Address" = '700 Ocean Dr, Miami'), 220.00, 'Single', NULL, 'Mountain', TRUE);

INSERT INTO "Room" ("HotelID", "Price", "RoomType", "Damage", "View", "Extendable")
VALUES ((SELECT "HotelID" FROM "Hotel" WHERE "Address" = '700 Island Dr, San Francisco'), 180.00, 'Single', NULL, 'None', FALSE);

INSERT INTO "Room" ("HotelID", "Price", "RoomType", "Damage", "View", "Extendable")
VALUES ((SELECT "HotelID" FROM "Hotel" WHERE "Address" = '500 Ave, New York'), 140.00, 'Double', NULL, 'None', FALSE);



--INSERT EMPLOYEES

INSERT INTO "Employee" ("HotelID", "Name", "Address", "SSN", "EmploymentType")
VALUES 
((SELECT "HotelID" FROM "Hotel" WHERE "Address" = '500 Ave, New York'), 'John Doe', '123 Main St, New York', '123456789', 'Manager');

INSERT INTO "Employee" ("HotelID", "Name", "Address", "SSN", "EmploymentType")
VALUES ((SELECT "HotelID" FROM "Hotel" WHERE "Address" = '100 Street, Chicago'), 'Jane Smith', '456 Oak St, Chicago', '987654321', 'Receptionist');

INSERT INTO "Employee" ("HotelID", "Name", "Address", "SSN", "EmploymentType")
VALUES ((SELECT "HotelID" FROM "Hotel" WHERE "Address" = '900 Sunset Blvd, Los Angeles'), 'Robert Brown', '789 Sunset Blvd, LA', '567890123', 'Housekeeping');

INSERT INTO "Employee" ("HotelID", "Name", "Address", "SSN", "EmploymentType")
VALUES ((SELECT "HotelID" FROM "Hotel" WHERE "Address" = '100 Beach Dr, Miami'), 'Emily Davis', '222 Ocean Ave, Miami', '654321789', 'Chef');

INSERT INTO "Employee" ("HotelID", "Name", "Address", "SSN", "EmploymentType")
VALUES ((SELECT "HotelID" FROM "Hotel" WHERE "Address" = '700 Island Dr, San Francisco'), 'Michael Johnson', '333 Bay St, SF', '345678901', 'Concierge');

--INSERT CUSTOMERS
INSERT INTO "Customer" ("Name", "Address", "IDType", "IDNumber", "RegistrationDate")
VALUES 
('Alice Green', '12 Maple St, New York', 'SSN', '111223333', '20240101');

INSERT INTO "Customer" ("Name", "Address", "IDType", "IDNumber", "RegistrationDate")
VALUES ('Bob White', '34 Elm St, Chicago', 'Driver''s License', 'DL-IL-56789', '20240215');

INSERT INTO "Customer" ("Name", "Address", "IDType", "IDNumber", "RegistrationDate")
VALUES ('Charlie Black', '56 Pine St, Los Angeles', 'SIN', '222334444', '20240310');


INSERT INTO "Customer" ("Name", "Address", "IDType", "IDNumber", "RegistrationDate")
VALUES ('David Blue', '78 Palm St, Miami', 'SSN', '333445555', '20240405');

INSERT INTO "Customer" ("Name", "Address", "IDType", "IDNumber", "RegistrationDate")
VALUES ('Eve Yellow', '90 Market St, San Francisco', 'Driver''s License', 'DL-CA-98765', '20240520');




--Lists all rooms at 5 star hotels (Probably should check if room is booked/rented)
SELECT
    "HotelChain"."Name" AS "Hotel Name",
    "Room"."RoomID", 
    "Room"."RoomType", 
    "Room"."Price", 
    "Hotel"."Stars", 
    "Hotel"."Address"
FROM "Room"
JOIN "Hotel" ON "Room"."HotelID" = "Hotel"."HotelID"
JOIN "HotelChain" ON "Hotel"."ChainID" = "HotelChain"."ChainID"
WHERE "Hotel"."Stars" = 5;
neel
neel_58106
Online
justinS, Meekus

neel — 2025-03-25 1:50 PM
i will try it again
@justinS how you feeling brother??
neel — 2025-03-26 9:48 AM
goood morninggggggggggg everyone
i am going to finish my part today most probably, thanks @Meekus  that code snippet actually helped me out after adding the jar files, i will do more testing and keep u updated
Meekus — 2025-03-26 11:25 AM
Ok ok sounds good
Anything else I should do rn? Also we’re u able to contact Justin
neel — 2025-03-26 11:25 AM
i texted him on insta
neel — 2025-03-26 12:28 PM
question  @Meekus - did u use employee servlet for anything?
Meekus — 2025-03-26 12:33 PM
No
neel — 2025-03-26 12:34 PM
ok awesome  i tweaked a little bit here and there
Meekus — 2025-03-26 12:36 PM
I forgot to mention that I changed the booking table
So check sql queries for the new one
neel — 2025-03-26 12:37 PM
no problem brother i added crud of customers and employees after 15 million errors
Meekus — 2025-03-26 12:37 PM
Good work 😭
neel — 2025-03-26 12:37 PM
through admin login
now im just going to add a option to book a room and it will direct them the booking way  you added
Meekus — 2025-03-26 12:39 PM
Wait what? Is it a customer login?
neel — 2025-03-26 12:39 PM
noo what u mean
Meekus — 2025-03-26 12:39 PM
Oh I misunderstood
I thought u made a customer login lol
neel — 2025-03-26 12:40 PM
are u free?
wanna hop on call
Meekus — 2025-03-26 12:40 PM
On the train rn to go to class
neel — 2025-03-26 12:40 PM
to discuss stuff
ohh daymm
Meekus — 2025-03-26 12:40 PM
I can message
neel — 2025-03-26 12:41 PM
no i just wanted to show the features and see how to carryout other stuff like documentation adding more data to database like views, triggers and all
Meekus — 2025-03-26 12:41 PM
Ah ok
I’ll look into the triggers and views and stuff
Also I’ll start making the report
neel — 2025-03-26 12:43 PM
I also wanna make sure just to run a whole demo together for the crud operations, so that if u pull u can perform as well
Meekus — 2025-03-26 12:44 PM
Did u push the code? I can take a look once im home
neel — 2025-03-26 1:08 PM
okay so i pushed everything
there is still a need to filter the html because app is really confusing
so i will try to clean up everything and go through the report to see what needs to be done
ig we also have to make views available on webapp
Meekus — 2025-03-26 1:42 PM
Yea ig
Once I’m home I’ll start grinding
neel — 2025-03-26 1:42 PM
we got this brother
justinS — 2025-03-26 2:39 PM
Hey boys sorry for going awol. I'm feeling a lot better now. Where are we at on the project and how can I help?
I'll start working on the stuff you sent rn Neel
neel — 2025-03-27 12:25 PM
hi guys how is everyone doing
just wondering what is everyone working on
neel — 2025-03-27 12:57 PM
hi guys i cleaned up the application a little bit and make it look better
now i will start populating the database
is there something u want me to take on, we have alot of stuff left
Meekus — 2025-03-27 12:59 PM
Ive been writing the report, and working on the video

For the video ive done this

Mention the software technologies that you have used for the creation of your project.
Show briefly the relational database schema you have implemented and comment on any
differences of this schema and the one you have submitted as part of Deliverable 1.
Comment briefly on the major integrity constraints that you have implemented. Justify their
choices and show the respective SQL code.


And the report
A report that includes the following:
a. The DBMS and the programming languages that you have used in your
implementation of the application.
b. Specific steps to guide someone to install your applications
c. A list with the DDLs that create your database
Your SQL code that supports all the functionalities in your application


I can also take on another coding part but I don't know whats left to work on that isn't already taken
Meekus — 2025-03-27 1:00 PM
ill take a look
Meekus — 2025-03-27 1:07 PM
Ok found a small issue in my code that makes customer save twice, fixing it now
neel — 2025-03-27 1:15 PM
sure  thanks man
@justinS if can take can a look can u please take a look at triggers,views
and we need to show are views in our webapp took
Meekus — 2025-03-27 1:35 PM
ok pushed the fixed code. What else can I work on rn?
the new UI looks good btw
justinS — 2025-03-27 2:08 PM
Not too bad. Starting to plan out some of the views and indexing. Probably won't be pushing anything until tmr
And triggers
neel — 2025-03-27 2:31 PM
so guys just go through the project the and whatever u see please go ahead and work on it, we only have like couple of days but if you see anything is pending just work on it
we can have a call soon to discuss everything
let me know whenever u are free
justinS — 2025-03-27 2:45 PM
Sounds good
I should be free tomorrow night or all weekend
Meekus — 2025-03-27 2:57 PM
neel what are you working on rn so I dont accidently work on that
pick something and ill do the other
neel — 2025-03-27 2:58 PM
i have to populate the whole database with ton of queries and values
Meekus — 2025-03-27 2:58 PM
ok so I have to do admins being able to change booking->renting? 
neel — 2025-03-27 2:58 PM
so once i generate all the queries, i test it out if they work on mine
and then i will send you
so that u can have the same database, because they want us to have a nig database
Meekus — 2025-03-27 2:59 PM
ok
so ill work on archived booking, admins chaning booking->renting and archived renting.

Sounds about right?
neel — 2025-03-27 3:00 PM
actually there is one more thing that we should think about is archived booking
Meekus — 2025-03-27 3:00 PM
yeah ill do it
shouldnt be hard
neel — 2025-03-27 3:00 PM
if u want i can help u out
populating database might be 1 hr job
and then i can start looking archived
stuff
Meekus — 2025-03-27 3:01 PM
is there anything else for u to do cuz i dont think what im doing is too difficult either
neel — 2025-03-27 3:01 PM
okay lemee take a look at the project
Meekus — 2025-03-27 3:01 PM
im gonna go to school rn so I wont work on the project till night
neel — 2025-03-27 3:01 PM
have u completed the documentation completely ?
Meekus — 2025-03-27 3:02 PM
yeah dont worry about the report, I got it
neel — 2025-03-27 3:03 PM
one more question, did u got the renting->  booking aspect
or bookinf -> renting
because it hard for me to understand
because i was thinking do we need to change that from admin file as well
neel — 2025-03-27 3:11 PM
Code    Component    Description    Marks    Status    Notes
2d    Database Implementation    Implement the database using your relational schema and integrity constraints.     DONE
2e    Database Population    Insert data for 5 hotel chains. Each chain must have:
• 8+ hotels across 3+ categories
• 2 hotels in the same area
• 5+ rooms with different capacities per hotel
Make sure there’s enough data to test queries/triggers/views.
2f (i)    Queries    Write at least 4 queries, including:
• 1 with aggregation
• 1 with nested query    10%    ☐
2f (ii)    Modifications & Triggers    Create SQL queries for insert, delete, update. 
• Implement at least 2 triggers for data consistency and user-defined constraints.    10%    ☐
2f (iii)    Indexes    Implement 3 indexes and justify their use (which queries/updates they optimize).    5%    ☐
2f (iv)    Views    Implement 2 views:
• View 1: number of available rooms per area
• View 2: total room capacity of a specific hotel    5%    ☐
2g    Web Application    Build a user-friendly UI with:
• Search/filter available rooms by multiple criteria (date, area, chain, category, capacity, price, etc.)
• Booking/renting system for customers
• Rent conversion/payment system for employees
• CRUD for customers, hotels, employees, and rooms
• Show the two SQL views in UI
things left are - 2f  Queries, Triggers and views and show 2 SQL views in UI
neel — 2025-03-27 3:14 PM
@justinS  in these part what are you working on, so that i can do the rest of them
justinS — 2025-03-27 3:15 PM
I was going to do indexes and views but I can also do modifications and triggers since I havent really done anything this week
neel — 2025-03-27 3:16 PM
no problem let me know if something troubles you so that we can help u out
@Meekus as far as i see i think we are pretty much done, its just we have to demo the whole thing together
what u think if everything comes together by sunday night we can submit it
justinS — 2025-03-27 3:19 PM
Once we have the full thing done we can record any parts for the video we need and put it together.
I can do some of the editing for the video if you guys want
neel — 2025-03-27 3:20 PM
yess @Meekus has started with some of the recording
neel — 2025-03-27 4:46 PM
\
-- INSERT INTO "Hotel" ("HotelID", "ChainID", "Stars", "NumberOfRoom", "Address", "Email", "PhoneNumber") VALUES
-- (10, 5, 3, 47, '694 Karen Run Suite 228, East Marcialand, ID 10291', 'shill@hill.com', '(631)248-9491x0969'),
-- (11, 1, 4, 27, '102 Robin Spring Apt. 999, Rowlandport, IA 18478', 'farrellnancy@hotmail.com', '2511182528'),
-- (12, 1, 2, 66, '0865 Mccall Forest, New Jeffreyberg, MN 80462', 'qowens@lee.biz', '+1-636-636-7663'),
-- (13, 2, 2, 70, '0151 Monica Lake, East Steven, WY 73696', 'marshalljoseph@smith.com', '001-329-045-4180'),
-- (14, 4, 5, 64, '985 Townsend Throughway Suite 658, Port Hollybury, IL 87035', 'valeriewilson@parker.biz', '4459136325'),
Expand
message.txt
10 KB
all the queries for database
is it me that i dont have anything in room amenties
Meekus — 2025-03-27 4:48 PM
Im going to add the “admin can change booking->renting”
Once you login I assume there would be an option to see all bookings and you can confirm them
And then I’ll also implement archived booking and renting
Meekus — Yesterday at 1:59 AM
Running into some small issues doing the booking->renting, It will be done by tommorrow
neel — Yesterday at 9:25 AM
@Meekus were you able to record the admin side as well ? because it had a id and password
Meekus — Yesterday at 9:35 AM
No was planning on doing it once I finish coding
neel — Yesterday at 9:36 AM
No problem the id- admin, password- password123
in case u want me to record i can do that as well
Meekus — Yesterday at 10:13 AM
Also do we have to implement the ability to add and remove rooms?
neel — Yesterday at 10:17 AM
No I haven’t
I dont think its a requirement what do you think
Meekus — Yesterday at 10:59 AM
Can u check the requirements, I feel like it said we needed to be able to insert/delete/update rooms as well
neel — Yesterday at 12:20 PM
The User Interface should allow the insert/delete/update of all information related to 
customers, employees, hotels and rooms.
yes it says this
justinS — Yesterday at 12:21 PM
Ok so we do need to add that to the employee interface
neel — Yesterday at 12:21 PM
daymm i haven't looked at that what if a room is already booked
and deleting a whole hotel
justinS — Yesterday at 12:21 PM
Damn
neel — Yesterday at 12:21 PM
and then we have to delete all the hotel rooms it have
i will be not be able to look at it today
but tomorrow i can spend the whole day on it and see if it works or not
justinS — Yesterday at 12:23 PM
Ok bet. I think we can probably get it to cascade to delete the rooms pretty easily. I'm not sure about the bookings though
I guess we could make an assumption that if we're deleting a hotel/room it's just not available for future booking and all of the bookings are grandfathered in or smth
neel — Yesterday at 12:25 PM
yess that's what i was thinking, without thinking is it booked or not
what i can do is IN ADMIN- add a feature to list all room and list all hotels with insert, add and delete option
i just need to see if I delete a hotel I need to make sure all the rooms are deleted
justinS — Yesterday at 12:26 PM
Bet
Meekus — Yesterday at 1:16 PM
We use on delete cascade for that no?
It will delete all children when a key is deleted
It’s Alr set up in the sql querries
So when u delete the key it should delete all children
It’s set up for Hotel, Room and Amenities atleast
Meekus — Yesterday at 6:43 PM
@neel @justinS Finished and pushed the Booking->Renting system. 

I had to change SQL_Queries file to add Archived Renting and Archived Booking tables and had to add BookingID as a foreign key to renting 

The way archives work is that once the status of booking (Confirm or Reject) is applied. Then the booking is added to the Archive

For renting, once payment is implemented. The renting entity will be archived once it is payed
justinS — Yesterday at 7:26 PM
W
Meekus — Yesterday at 7:44 PM
I didnt implement the ability to mark Rentings as Payed tho
Meekus — Yesterday at 8:43 PM
ok I almost finished implementing being able to update the payment on renting
Meekus — Yesterday at 9:49 PM
Whoever is doing the Hotel Insert/Delete/Update, I think you gotta add a manager FK to the Hotel table. It says hear that every hotel has a manager, so there must be a not null manager entity associated to every hotel
Meekus — Yesterday at 9:58 PM
Ok implemented Renting and Payment and ArchivedRenting which only saves once a renting is paid.

Make sure to use the exact same table names as the SQL_Querries cuz I changed payment in the code and its case sensitive. Make sure your payment table is called "Payment"
justinS — Yesterday at 10:36 PM
How do we want to implement the views in the web app. I've made the SQL for the views but Idk how you guys want to implement it in the app
Meekus — Yesterday at 10:54 PM
I think you have to put it somewhere the users would be able to access it from
So maybe a button you click on the filter rooms screen
Takes you to the table created by the view
justinS — 12:01 AM
Ok
Bet Ill work on setting that up
neel — 9:16 AM
Good morning boys
Sorry i was working late last night
I will start working on hotel & rooms insert update and delete
U guys wanna have a meeting tonight
So that we can sit and wrap up things up
If everyone is finished, i will try to get my part done by tonight
Meekus — 10:34 AM
Ok
﻿
-- INSERT INTO "Hotel" ("HotelID", "ChainID", "Stars", "NumberOfRoom", "Address", "Email", "PhoneNumber") VALUES
-- (10, 5, 3, 47, '694 Karen Run Suite 228, East Marcialand, ID 10291', 'shill@hill.com', '(631)248-9491x0969'),
-- (11, 1, 4, 27, '102 Robin Spring Apt. 999, Rowlandport, IA 18478', 'farrellnancy@hotmail.com', '2511182528'),
-- (12, 1, 2, 66, '0865 Mccall Forest, New Jeffreyberg, MN 80462', 'qowens@lee.biz', '+1-636-636-7663'),
-- (13, 2, 2, 70, '0151 Monica Lake, East Steven, WY 73696', 'marshalljoseph@smith.com', '001-329-045-4180'),
-- (14, 4, 5, 64, '985 Townsend Throughway Suite 658, Port Hollybury, IL 87035', 'valeriewilson@parker.biz', '4459136325'),
-- (15, 4, 3, 33, '707 Jeffery Fall, Port Donnamouth, UT 88058', 'turnergina@martinez.com', '0273427817'),
-- (16, 2, 3, 86, '215 Angela Mountains Suite 972, East Michelleborough, OK 43435', 'meganfloyd@johnson.com', '2694405794'),
-- (17, 1, 4, 89, '9327 Lloyd Key, Lake Amanda, MI 00577', 'dawn71@johnston.com', '+1-313-387-8677'),
-- (18, 4, 3, 42, '5260 Rojas Pine Apt. 112, Kochville, WV 74718', 'joshuawalker@bell.com', '4852647334'),
-- (19, 1, 4, 56, '1660 Aaron Forges Apt. 707, Port Jasmine, NE 42848', 'campbellmark@cox.com', '+1-954-442-3736'),
-- (20, 3, 5, 95, '040 Jessica Station, Lake Melissaborough, CO 07637', 'laurenboyd@weiss.com', '+1-415-215-3339'),
-- (21, 4, 4, 81, '3575 Vaughn Valley, East Chelsea, MO 42604', 'tricia82@flores.org', '+1-803-330-9887'),
-- (22, 2, 5, 73, '0815 King Mall, West Lauren, NM 84256', 'sampsonstephen@torres.com', '+1-702-341-9574'),
-- (23, 4, 3, 61, '75050 Lisa Lakes, South Danny, CT 30910', 'xmoore@larson.com', '+1-507-763-2096'),
-- (24, 1, 2, 97, '713 Perry Turnpike Suite 156, Smithborough, NJ 88957', 'cpope@jimenez.net', '8486288829'),
-- (25, 1, 5, 75, '2182 Johnny Hill, Port Tonyview, NH 87478', 'brownian@hess.com', '003-623-759-3237'),
-- (26, 2, 2, 84, '940 Justin Drives, South Meganport, TN 18031', 'fsmith@ferguson.net', '5563096123'),
-- (27, 1, 5, 22, '7978 Chandler Overpass, New Christophermouth, RI 61800', 'harrisoncarl@rhodes.com', '2035704690'),
-- (28, 3, 3, 54, '404 Rodriguez Viaduct, New Jessicaberg, OR 29221', 'vking@lambert.com', '+1-618-618-6231'),
-- (29, 3, 4, 79, '641 Hernandez Roads Apt. 236, Jamesfurt, AR 27090', 'ameliaphelps@bradley.org', '5416671710'),
-- (30, 2, 3, 91, '433 William Alley, East Jonathan, AZ 90245', 'garzakevin@smith.com', '+1-306-306-9331');
-- select * from "Employee"
-- INSERT INTO "Employee" ("EmployeeID", "HotelID", "Name", "Address", "SSN", "EmploymentType") VALUES
-- (10, 10, 'Jerry Duncan', '847 Stephanie Forks Apt. 480, Mariaside, AZ 22870', '713755950', 'Receptionist'),
-- (11, 11, 'Amanda Savage', '460 Knight Springs, Lake Amandachester, HI 58084', '575877174', 'Chef'),
-- (12, 12, 'Richard Tucker', '4415 Steven Viaduct Apt. 057, East Brianville, AL 30343', '137864538', 'Concierge'),
-- (13, 13, 'Alexandra Alexander', '01529 Carl Inlet Apt. 894, Washingtonstad, CT 58090', '979395105', 'Housekeeping'),
-- (14, 14, 'Nicole Knapp', '13764 Janice Hollow, Fergusonstad, VA 37281', '785746335', 'Manager'),
-- (15, 15, 'Cameron Allen', '446 Megan Court, Jessicastad, IN 61893', '618269472', 'Chef'),
-- (16, 16, 'Michelle Contreras', '6360 Smith Cove, Patrickville, WV 97047', '086414301', 'Receptionist'),
-- (17, 17, 'Caleb Matthews', '14944 Donald Inlet Apt. 292, South Kevinland, MO 25390', '621093485', 'Housekeeping'),
-- (18, 18, 'Tiffany Bowen', '70980 Wagner Roads, West Ericmouth, CO 30289', '933597410', 'Manager'),
-- (19, 19, 'Charles Edwards', '5938 David Streets, Port Andrewfort, ID 52787', '290473328', 'Concierge'),
-- (20, 20, 'Erica Turner', '938 Robert Orchard Apt. 478, New Tammytown, MS 54160', '881360037', 'Receptionist'),
-- (21, 21, 'Marcus Powell', '07821 Steven Route, Kaylamouth, MA 95734', '979327088', 'Housekeeping'),
-- (22, 22, 'Vanessa Colon', '3395 Martinez Tunnel Apt. 230, East Kimfurt, MI 08251', '168559979', 'Manager'),
-- (23, 23, 'Brandi King', '1660 George Fall Apt. 198, Jessicafurt, NM 42719', '553508200', 'Receptionist'),
-- (24, 24, 'Mikayla Colon', '969 Lee Trail, Amandafurt, DE 53552', '379509014', 'Housekeeping'),
-- (25, 25, 'Douglas Stevenson', '2579 Snyder Villages Apt. 879, South Tracey, ND 02882', '573167642', 'Concierge'),
-- (26, 26, 'Joel Casey', '86943 Susan Extension Apt. 848, Tiffanyborough, KY 59467', '176287921', 'Chef'),
-- (27, 27, 'Brooke Morgan', '49939 John Gateway Apt. 448, Dawnland, NV 52588', '909829511', 'Manager'),
-- (28, 28, 'Vanessa Anderson', '800 Miller Hills Suite 680, South Matthewberg, DC 77194', '658303973', 'Receptionist'),
-- (29, 29, 'Robert Reeves', '80930 Mcdonald Villages, Taylorfort, SD 86618', '637935165', 'Housekeeping'),
-- (30, 30, 'Tristan Vargas', '5787 Terry Field, Port Melissafurt, MT 10011', '984119283', 'Concierge');
-- select * from "Customer"
-- INSERT INTO "Customer" ("Name", "Address", "IDType", "IDNumber", "RegistrationDate") VALUES
-- ('Christina Miller', '33804 Thomas Brooks, Ericksonmouth, MT 90574', 'SSN', '013247600', '20250312'),
-- ('Christopher Graham', '177 Black Village Suite 628, Debbieshire, MN 28840', 'SSN', '972871714', '20250218'),
-- ('Jamie Wilson', '577 Tracy Cliff, Port Jacob, NH 21330', 'SIN', '365515272', '20240830'),
-- ('Sarah Greene', '222 Kathryn Landing, Lake Anna, NM 19172', 'SSN', '296442758', '20241208'),
-- ('Heather Steele', '9438 Michelle Groves, East Jonathan, ND 39111', 'SSN', '827024392', '20241029'),
-- ('Kristen Nelson', '1809 Snyder Mountains Suite 246, North Eric, MI 37945', 'Driver''s License', 'DL-CA-51847', '20240622'),
-- ('Ethan Brown', '2055 Lori Drives, Port Pamela, DE 32456', 'SSN', '392561086', '20250314'),
-- ('Taylor Washington', '1476 Flores Falls Apt. 832, South Sarahfurt, SC 95645', 'SIN', '837162091', '20240421'),
-- ('Aaron Rios', '8130 Teresa Expressway Apt. 826, West Tiffany, FL 28884', 'Driver''s License', 'DL-FL-82445', '20240702'),
-- ('Tina Adams', '6735 Dwayne Shoals Apt. 438, Nicoleborough, AK 93408', 'SSN', '120495337', '20240925'),
-- ('Courtney Walker', '166 Smith Village, Rodneyfurt, NY 07642', 'Driver''s License', 'DL-NY-23795', '20241111'),
-- ('Melanie Freeman', '9336 Chase Hills Apt. 304, East Kenneth, OH 13059', 'SSN', '505727385', '20241010'),
-- ('Julian Kelley', '62763 Katrina Canyon, East Williammouth, KS 82379', 'Driver''s License', 'DL-KS-76493', '20240801'),
-- ('Benjamin Owens', '3372 Powell Mountains Suite 356, New Justinfurt, CO 14700', 'SIN', '158627903', '20241228'),
-- ('Samantha Reed', '1196 Taylor Gateway Apt. 228, West Olivia, WY 66318', 'SSN', '247913680', '20250305');
-- INSERT INTO "Customer" ("Name", "Address", "IDType", "IDNumber", "RegistrationDate") VALUES
-- ('Diana Marshall', '270 Marie Crescent Apt. 724, Port Brandonville, UT 69320', 'SSN', '507561978', '20250119'),
-- ('Jeffrey Lopez', '12559 Michele Stream, South Tracy, GA 94127', 'Driver''s License', 'DL-WA-90940', '20250101'),
-- ('Kaitlyn Cooper', '7285 Hart Fall Apt. 434, North Daniel, KS 99637', 'SSN', '469783038', '20241003'),
-- ('Tim Jones', '7543 Margaret Coves, Newtonstad, UT 22931', 'Driver''s License', 'DL-KS-34870', '20240730'),
-- ('Alexander Chambers', '814 Carly Mills, Webertown, AK 29643', 'Driver''s License', 'DL-NE-43047', '20250312'),
-- ('Robert Reyes', '460 Matthew Corner Suite 722, New Joshua, NY 12426', 'SIN', '082002135', '20240816'),
-- ('Ashley Lopez', '6989 Obrien Knolls, New Brendabury, OR 70056', 'SSN', '789206014', '20240926'),
-- ('Susan Daniels', '46549 Meghan Squares Apt. 572, Port Vickie, GA 03987', 'SIN', '903397051', '20241121'),
-- ('Scott Thomas', '797 Charles Throughway, Lake Martha, AZ 70874', 'SSN', '433075223', '20240518'),
-- ('Cameron Thomas', '671 Brian Road, New Katherine, VA 91588', 'SSN', '680246684', '20240610');
-- select * from "Room"
-- INSERT INTO "Room" ("RoomID", "HotelID", "Price", "RoomType", "Damage", "View", "Extendable") VALUES
-- (11, 11, 207.49, 'Single', 'Task other model trouble.', 'Sea', FALSE),
-- (12, 11, 325.09, 'Single', 'Responsibility sell what.', 'Sea', FALSE),
-- (13, 11, 314.39, 'Single', NULL, 'Sea', FALSE),
-- (14, 12, 393.78, 'Double', 'Thousand role deal.', 'Mountain', FALSE),
-- (15, 12, 201.23, 'Double', 'Summer site half consider.', 'Mountain', FALSE),
-- (16, 12, 251.77, 'Double', 'Job apply.', 'Mountain', TRUE),
-- (17, 13, 157.64, 'Single', 'Work church across ago someone.', 'None', TRUE),
-- (18, 13, 306.82, 'Double', 'Senior major.', 'Mountain', FALSE),
-- (19, 13, 160.36, 'Double', 'Authority full hot.', 'None', FALSE),
-- (20, 14, 259.07, 'Double', 'Early film capital develop.', 'Mountain', FALSE),
-- (21, 14, 247.29, 'Single', 'Hot security certain.', 'Mountain', FALSE),
-- (22, 14, 276.66, 'Single', 'Safe best entire bad.', 'Mountain', FALSE),
-- (23, 15, 369.95, 'Double', NULL, 'None', FALSE),
-- (24, 15, 289.95, 'Double', NULL, 'None', FALSE),
-- (25, 15, 295.12, 'Double', NULL, 'None', TRUE)
-- ;
-- select * from "booking"


values on -29-03-2025
ALTER TABLE "Hotel"
-- ADD COLUMN "ManagerID" INT UNIQUE;


-- select * from "Hotel"
-- Managers for HotelID 1 to 25
-- This will update each Hotel with the matching Manager's EmployeeID
-- UPDATE "Hotel"
-- SET "ManagerID" = emp."EmployeeID"
-- FROM "Employee" emp
-- WHERE emp."HotelID" = "Hotel"."HotelID"
--   AND emp."EmploymentType" ILIKE 'Manager';


-- SELECT h."HotelID", h."Address"
-- FROM "Hotel" h
-- LEFT JOIN "Employee" e ON h."HotelID" = e."HotelID" AND e."EmploymentType" ILIKE 'Manager'
-- WHERE e."EmployeeID" IS NULL;
-- Let's say HotelID 2 is missing a manager

-- SELECT setval(
--   pg_get_serial_sequence('"Employee"', 'EmployeeID'),
--   (SELECT MAX("EmployeeID") FROM "Employee")
-- );

-- INSERT INTO "Employee" ("HotelID", "Name", "Address", "SSN", "EmploymentType")
-- VALUES (2, 'Backup Manager', 'Somewhere St', '999888777', 'Manager');


-- UPDATE "Hotel"
-- SET "ManagerID" = e."EmployeeID"
-- FROM "Employee" e
-- WHERE "Hotel"."HotelID" = e."HotelID"
--   AND e."EmploymentType" ILIKE 'Manager';
-- selet * from "Hotel"
-- SELECT h."HotelID", h."Address"
-- FROM "Hotel" h
-- LEFT JOIN "Employee" e
--   ON h."HotelID" = e."HotelID" AND e."EmploymentType" ILIKE 'Manager'
-- WHERE e."EmployeeID" IS NULL
-- ORDER BY h."HotelID";


-- INSERT INTO "Employee" ("HotelID", "Name", "Address", "SSN", "EmploymentType") VALUES (1, 'Auto Manager 1', '1 Auto Street', '991000001', 'Manager');
-- INSERT INTO "Employee" ("HotelID", "Name", "Address", "SSN", "EmploymentType") VALUES (2, 'Auto Manager 2', '2 Auto Street', '991000002', 'Manager');
-- INSERT INTO "Employee" ("HotelID", "Name", "Address", "SSN", "EmploymentType") VALUES (3, 'Auto Manager 3', '3 Auto Street', '991000003', 'Manager');
-- INSERT INTO "Employee" ("HotelID", "Name", "Address", "SSN", "EmploymentType") VALUES (4, 'Auto Manager 4', '4 Auto Street', '991000004', 'Manager');
-- INSERT INTO "Employee" ("HotelID", "Name", "Address", "SSN", "EmploymentType") VALUES (5, 'Auto Manager 5', '5 Auto Street', '991000005', 'Manager');
-- INSERT INTO "Employee" ("HotelID", "Name", "Address", "SSN", "EmploymentType") VALUES (6, 'Auto Manager 6', '6 Auto Street', '991000006', 'Manager');
-- INSERT INTO "Employee" ("HotelID", "Name", "Address", "SSN", "EmploymentType") VALUES (7, 'Auto Manager 7', '7 Auto Street', '991000007', 'Manager');
-- INSERT INTO "Employee" ("HotelID", "Name", "Address", "SSN", "EmploymentType") VALUES (8, 'Auto Manager 8', '8 Auto Street', '991000008', 'Manager');
-- INSERT INTO "Employee" ("HotelID", "Name", "Address", "SSN", "EmploymentType") VALUES (9, 'Auto Manager 9', '9 Auto Street', '991000009', 'Manager');
-- INSERT INTO "Employee" ("HotelID", "Name", "Address", "SSN", "EmploymentType") VALUES (10, 'Auto Manager 10', '10 Auto Street', '991000010', 'Manager');
-- INSERT INTO "Employee" ("HotelID", "Name", "Address", "SSN", "EmploymentType") VALUES (11, 'Auto Manager 11', '11 Auto Street', '991000011', 'Manager');
-- INSERT INTO "Employee" ("HotelID", "Name", "Address", "SSN", "EmploymentType") VALUES (12, 'Auto Manager 12', '12 Auto Street', '991000012', 'Manager');
-- INSERT INTO "Employee" ("HotelID", "Name", "Address", "SSN", "EmploymentType") VALUES (13, 'Auto Manager 13', '13 Auto Street', '991000013', 'Manager');
-- INSERT INTO "Employee" ("HotelID", "Name", "Address", "SSN", "EmploymentType") VALUES (14, 'Auto Manager 14', '14 Auto Street', '991000014', 'Manager');
-- INSERT INTO "Employee" ("HotelID", "Name", "Address", "SSN", "EmploymentType") VALUES (15, 'Auto Manager 15', '15 Auto Street', '991000015', 'Manager');
-- INSERT INTO "Employee" ("HotelID", "Name", "Address", "SSN", "EmploymentType") VALUES (16, 'Auto Manager 16', '16 Auto Street', '991000016', 'Manager');
-- INSERT INTO "Employee" ("HotelID", "Name", "Address", "SSN", "EmploymentType") VALUES (17, 'Auto Manager 17', '17 Auto Street', '991000017', 'Manager');
-- INSERT INTO "Employee" ("HotelID", "Name", "Address", "SSN", "EmploymentType") VALUES (18, 'Auto Manager 18', '18 Auto Street', '991000018', 'Manager');
-- INSERT INTO "Employee" ("HotelID", "Name", "Address", "SSN", "EmploymentType") VALUES (19, 'Auto Manager 19', '19 Auto Street', '991000019', 'Manager');
-- INSERT INTO "Employee" ("HotelID", "Name", "Address", "SSN", "EmploymentType") VALUES (20, 'Auto Manager 20', '20 Auto Street', '991000020', 'Manager');
-- INSERT INTO "Employee" ("HotelID", "Name", "Address", "SSN", "EmploymentType") VALUES (21, 'Auto Manager 21', '21 Auto Street', '991000021', 'Manager');
-- INSERT INTO "Employee" ("HotelID", "Name", "Address", "SSN", "EmploymentType") VALUES (22, 'Auto Manager 22', '22 Auto Street', '991000022', 'Manager');
-- INSERT INTO "Employee" ("HotelID", "Name", "Address", "SSN", "EmploymentType") VALUES (23, 'Auto Manager 23', '23 Auto Street', '991000023', 'Manager');
-- INSERT INTO "Employee" ("HotelID", "Name", "Address", "SSN", "EmploymentType") VALUES (24, 'Auto Manager 24', '24 Auto Street', '991000024', 'Manager');
-- INSERT INTO "Employee" ("HotelID", "Name", "Address", "SSN", "EmploymentType") VALUES (25, 'Auto Manager 25', '25 Auto Street', '991000025', 'Manager');
-- select * from "Hotel"
-- UPDATE "Hotel"
-- SET "ManagerID" = e."EmployeeID"
-- FROM "Employee" e
-- WHERE "Hotel"."HotelID" = e."HotelID"
--   AND e."EmploymentType" ILIKE 'Manager';
-- INSERT INTO "Employee" ("HotelID", "Name", "Address", "SSN", "EmploymentType") VALUES (30, 'Auto Manager 1', '1 Auto Street', '991880701', 'Manager');
-- SELECT setval(pg_get_serial_sequence('"Hotel"', 'HotelID'), MAX("HotelID")) FROM "Hotel";
-- SELECT setval(
--   pg_get_serial_sequence('"Room"', 'RoomID'),
--   (SELECT MAX("RoomID") FROM "Room")
-- );

